{"version":3,"sources":["scripts/main.js"],"names":["targetCheck","list","document","querySelector","header","body","count","toNumber","num","split","splice","join","addEventListener","e","column","target","closest","cellIndex","listRows","rows","sort","a","b","cells","innerText","localeCompare","append","children","forEach","row","classList","contains","remove","parentElement","add","form","createElement","innerHTML","forms","btn","formatSalary","value","toString","replace","formatTest","text","map","word","toUpperCase","substring","inputCheck","oldText","pushNotification","title","description","type","checked","message","titleMessage","textMessage","className","setAttribute","textContent","setTimeout","preventDefault","data","FormData","formData","Object","fromEntries","entries","position","office","age","salary","i","name","length","includes","insertAdjacentHTML","reset","paddingElement","selectOfficeEdit","window","getComputedStyle","padding","slice","widthInput","clientWidth","saveText","input","filter","elem","child","style","width","focus","inputLine","collbacks","key","elemClick"],"mappings":"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","file":"main.23632225.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst list = document.querySelector('tbody');\nconst header = document.querySelector('thead');\nconst body = document.querySelector('body');\nlet count = 0;\nlet targetCheck;\n\n// ___Start___sort___\n\nfunction toNumber(num) {\n  return num.split('').splice(1).join('')\n    .split(',').join('');\n}\n\nheader.addEventListener('click', e => {\n  count++;\n\n  const column = e.target.closest('th').cellIndex;\n  const listRows = [...list.rows];\n\n  if (targetCheck !== column) {\n    count = 1;\n  }\n\n  targetCheck = column;\n\n  if (e.target.closest('th')) {\n    count % 2 === 1\n      ? listRows.sort((a, b) => {\n        return (a.cells[column].innerText[0] === '$'\n          ? toNumber(a.cells[column]\n            .innerText) - toNumber(b.cells[column].innerText)\n          : a.cells[column]\n            .innerText.localeCompare(b.cells[column].innerText));\n      })\n      : listRows.sort((a, b) => {\n        return (a.cells[column].innerText[0] === '$'\n          ? toNumber(b.cells[column]\n            .innerText) - toNumber(a.cells[column].innerText)\n          : b.cells[column]\n            .innerText.localeCompare(a.cells[column].innerText));\n      });\n  };\n\n  list.append(...listRows);\n});\n\n// ___Finish_sort___\n\n// ___Start___row___selection____\n\nlist.addEventListener('click', e => {\n  [...list.children].forEach(row => {\n    if (row.classList.contains('active')) {\n      row.classList.remove('active');\n    }\n  });\n\n  e.target.parentElement.classList.add('active');\n});\n\n// ___Finish___Row___Selection___\n\n// ___Start___Add___Form___\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n  <label>\n    Name:\n    <input\n      name=\"name\"\n      data-qa=\"name\"\n      minlength=\"4\"\n      maxlength=\"15\"\n      type=\"text\"\n      required>\n  </label>\n  <label>\n    Position: <input name=\"position\" data-qa=\"position\" type=\"text\" required>\n  </label>\n  <label>\n    Office:<select data-qa=\"office\" name=\"office\" size=\"1\">\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>\n    Age: <input name=\"age\" data-qa=\"age\" type=\"number\" required>\n  </label>\n  <label>\n    Salary:\n    <input name=\"salary\" data-qa=\"salary\" type=\"number\" min=\"0\" required>\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\n\nbody.append(form);\n\nconst forms = document.querySelector('form');\nconst btn = document.querySelector('button');\n\nfunction formatSalary(value) {\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction formatTest(text) {\n  return text.split(/\\s+/)\n    .map(word => word[0].toUpperCase() + word.substring(1)).join(' ');\n};\n\nconst pushNotification = (title, description, type) => {\n  const checked = body.querySelector('.notification');\n\n  if (checked) {\n    checked.remove();\n  };\n\n  const message = document.createElement('div');\n  const titleMessage = document.createElement('h2');\n  const textMessage = document.createElement('p');\n\n  message.className = `notification ${type}`;\n  message.setAttribute('data-qa', 'notification');\n\n  titleMessage.className = 'title';\n  titleMessage.textContent = `${title}`;\n\n  textMessage.textContent = `${description}`;\n\n  message.append(titleMessage);\n  message.append(textMessage);\n\n  body.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n};\n\nbtn.addEventListener('click', (add) => {\n  add.preventDefault();\n\n  const data = new FormData(forms);\n  const formData = Object.fromEntries(data.entries());\n  const { position, office, age, salary } = formData;\n\n  for (let i = 0; i <= formData.name.length; i++) {\n    if ('1234567890'.includes(formData.name[i])) {\n      pushNotification('Name Error',\n        'Enter only the letters', 'error');\n\n      return;\n    }\n  }\n\n  for (let i = 0; i <= position.length; i++) {\n    if ('1234567890'.includes(position[i])) {\n      pushNotification('Position Error',\n        'Enter only the letters', 'error');\n\n      return;\n    }\n  }\n\n  if (formData.name.length < 4 || formData.name.length > 15) {\n    pushNotification('Name Error',\n      'Name length must be greater than 4', 'error');\n\n    return;\n  }\n\n  if (position.length < 4 || position.length > 40) {\n    pushNotification('Position Error',\n      'Position length must be greater than 4', 'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    pushNotification('Age Error',\n      'Please enter an age from 18 to 90', 'error');\n\n    return;\n  }\n\n  if (!salary) {\n    pushNotification('Salary Error',\n      'Please enter an salary from 0', 'error');\n\n    return;\n  }\n\n  list.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${formatTest(formData.name)}</td>\n      <td>${formatTest(position)}</td>\n      <td>${office}</td>\n      <td>${age}</td>\n      <td>$${formatSalary(salary)}</td>\n    </td>\n  `);\n\n  pushNotification('Good Job!!!',\n    'New employee added', 'success');\n\n  forms.reset();\n});\n\n// ___Finish___Add___Form___\n\n// ___Start___Redactor___Rows___\n\nlet inputCheck;\nlet oldText;\n\nlist.addEventListener('dblclick', e => {\n  const paddingElement = window.getComputedStyle(e.target)\n    .padding.slice(0, length - 2);\n  const widthInput = e.target.clientWidth - (+paddingElement * 2);\n  let selectOfficeEdit;\n\n  let saveText = e.target.textContent;\n  const input = document.createElement('input');\n\n  input.value = saveText;\n\n  input.classList.add('cell-input');\n  e.target.textContent = '';\n\n  switch (e.target.cellIndex) {\n    case 3:\n      input.type = 'number';\n      break;\n    case 4:\n      const value = saveText.split('')\n        .filter(elem => '1234567890'.includes(elem)).join('');\n\n      input.value = value;\n      input.type = 'number';\n      break;\n  }\n\n  if (inputCheck !== e.target) {\n    [...list.rows].forEach(row => {\n      [...row.cells].map(child => {\n        if (child.children.length > 0) {\n          [...child.children][0].remove();\n          inputCheck.textContent = oldText;\n        }\n      });\n    });\n  }\n\n  inputCheck = e.target;\n  oldText = saveText;\n\n  if (e.target.cellIndex !== 2) {\n    input.style.width = `${widthInput}px`;\n    e.target.append(input);\n    input.focus();\n  } else {\n    e.target.insertAdjacentHTML('beforeend', `\n      <select data-qa=\"office\" name=\"office\" size=\"1\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    `);\n\n    selectOfficeEdit = document.querySelector('td select');\n    selectOfficeEdit.style.width = `${widthInput}px`;\n    selectOfficeEdit.focus();\n  }\n\n  const inputLine = document.querySelector('td input');\n\n  const collbacks = () => {\n    switch (e.target.cellIndex) {\n      case 0:\n        if (inputLine.value.length < 4 || inputLine.value.length > 15) {\n          pushNotification('Name Error',\n            'Name length must be greater than 4', 'error');\n\n          return;\n        }\n\n        for (let i = 0; i <= inputLine.value.length; i++) {\n          if ('1234567890'.includes(inputLine.value[i])) {\n            pushNotification('Name Error',\n              'Enter only the letters', 'error');\n\n            return;\n          }\n        }\n        saveText = formatTest(inputLine.value);\n        break;\n      case 1:\n        if (inputLine.value.length < 4 || inputLine.value.length > 40) {\n          pushNotification('Position Error',\n            'Position length must be greater than 4', 'error');\n\n          return;\n        }\n\n        for (let i = 0; i <= inputLine.value.length; i++) {\n          if ('1234567890'.includes(inputLine.value[i])) {\n            pushNotification('Position Error',\n              'Enter only the letters', 'error');\n\n            return;\n          }\n        }\n        saveText = formatTest(inputLine.value);\n        break;\n      case 2:\n        saveText = selectOfficeEdit.value;\n        break;\n      case 3:\n        if (inputLine.value < 18 || inputLine.value > 90) {\n          pushNotification('Age Error',\n            'Please enter an age from 18 to 90', 'error');\n\n          return;\n        }\n        saveText = inputLine.value;\n        break;\n      case 4:\n        if (inputLine.value < 0) {\n          pushNotification('Salary Error',\n            'Please enter an salary > 0', 'error');\n\n          return;\n        }\n\n        saveText = `$${formatSalary(inputLine.value)}`;\n        break;\n    }\n\n    e.target.textContent = saveText;\n    input.remove();\n  };\n\n  e.target.addEventListener('keydown', elem => {\n    if (elem.key === 'Enter') {\n      if (e.target.cellIndex !== 2) {\n        if (inputLine.value.length === 0) {\n          e.target.textContent = saveText;\n          input.remove();\n\n          return;\n        }\n      }\n\n      collbacks();\n    }\n  });\n\n  body.addEventListener('click', elemClick => {\n    if (e.target.cellIndex === 2) {\n      if (!elemClick.target.closest('select')) {\n        collbacks();\n      }\n    } else {\n      if (!elemClick.target.closest('input')) {\n        collbacks();\n      }\n    }\n  });\n});\n"]}